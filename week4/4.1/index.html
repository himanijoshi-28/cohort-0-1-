<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      function fun() {
        // const num1 = document.getElementById("no1").value;
        // console.log(num1);
        // const num2 = document.getElementById("no2").value;
        // const para = document.getElementById("ans");
        // para.innerHTML = Number(num1) + Number(num2); //step 2 : avoid this
        //sum-server.100xdevs.com/sum?a=1&b=2000 -> given by harkirat
        const a = document.getElementById("no1").value;
        // console.log(num1);
        const b = document.getElementById("no2").value;
        const para = document.getElementById("ans");
        // fetch("https://sum-server.100xdevs.com/sum?a=" + a + "&b=" + b); //not optimized
        fetch(`https://sum-server.100xdevs.com/sum?${a}&${b}`);
      }
    </script>
  </head>
  <body>
    <input id="no1" type="number" placeholder="Enter 1st number" />
    <input id="no2" type="number" placeholder="Enter 2nd no" />
    <input id="btn" type="submit" onclick="fun()" />

    <p id="ans"></p>
  </body>
</html> -->
//debouncing
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      let timeout;
      function debouncefun() {
        clearTimeout(timeout);
        timeout = setTimeout(function () {
          fun();
        }, 100);
      }
      async function fun() {
        const a = document.getElementById("no1").value;
        // console.log(num1);
        const b = document.getElementById("no2").value;
        const para = document.getElementById("ans");

        const response = await fetch(
          `https://sum-server.100xdevs.com/sum?a=${a}&b=${b}`
        );
        const ans = await response.text();
        console.log(ans);
        para.innerHTML = ans;
      }
    </script>
  </head>
  <body>
    <input
      id="no1"
      onchange="debouncefun()"
      type="number"
      placeholder="Enter 1st number"
    />
    <input
      id="no2"
      onchange="debouncefun()"
      type="number"
      placeholder="Enter 2nd no"
    />
    <!-- <input id="btn" type="submit" onclick="fun()" /> -->

    <p id="ans"></p>
  </body>
</html>
